<h2 class="text-3xl text-center font-bold mb-4">Sign up</h2>

<% unless @active_cohort_flag %>
  <div class="px-2">
    <div class="mx-auto flex max-w-xl gap-4 border-2 shadow-lg p-4 pr-8 mb-8">
      <div>
        <i class="fa-solid fa-circle-exclamation fa-2xl text-warning bg-warning-content rounded-full border-2 border-warning-content"></i>
      </div>
      <div class="flex-1 flex flex-col gap-2">
        <p>Unfortunately, we are not currently accepting new applicants.</p>
        <p>We still encourage you to sign up. We will contact you by email next time applications open up.</p>
      </div>
    </div>
  </div>
<% end %>

<div class="max-w-xl mx-auto px-4">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= render "devise/shared/error_messages", resource: resource %>

    <div class="form-control">
      <%= f.label :first_name, class: 'label label-text text-lg' %>
      <%= f.text_field :first_name, autofocus: true, autocomplete: 'given-name', required: true, class: 'input input-bordered' %>
    </div>

    <div class="form-control">
      <%= f.label :last_name, class: 'label label-text text-lg' %>
      <%= f.text_field :last_name, required: true, autocomplete: 'family-name', class: 'input input-bordered' %>
    </div>

    <div class="form-control">
      <%= f.label :email, class: 'label label-text text-lg' %>
      <%= f.email_field :email, autocomplete: "email", class: 'input input-bordered' %>
    </div>

    <div class="form-control">
      <%= f.label :time_zone, class: 'label label-text text-lg' %>
      <%= f.time_zone_select(:time_zone, ActiveSupport::TimeZone.country_zones('US'), {}, {class:"select select-bordered w-full max-w-xs"}) %>
    </div>

    <div class="form-control">
      <%= f.label :password, class: 'label label-text text-lg' %> 
      <%= f.password_field :password, autocomplete: "new-password", class: 'input input-bordered' %>
      <% if @minimum_password_length %>
        <em><%= @minimum_password_length %> characters minimum</em>
      <% end %>
    </div>

    <div class="form-control mb-4">
      <%= f.label :password_confirmation, class: 'label label-text text-lg' %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: 'input input-bordered' %>
    </div>

    <div class="form-control">
      <%= f.submit "Sign up", class: 'btn btn-primary mb-4' %>
      <p>
        Already have an account?
        <%= link_to "Log In", new_user_session_path, class: 'link link-secondary' %>
      </p>
    </div>
  <% end %>
</div>
